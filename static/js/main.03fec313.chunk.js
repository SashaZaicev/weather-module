(this["webpackJsonpweather-module"]=this["webpackJsonpweather-module"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),i=n.n(a),o=(n(78),n(79),n(54)),s=n.n(o),u=n(4),l=function(){return Object(u.jsx)("div",{className:s.a.headerContainer,children:Object(u.jsx)("h3",{children:"Welcome to weather module"})})},d=n(55),j=n.n(d),b=function(){return Object(u.jsx)("div",{className:j.a.authorSectionContainer,children:Object(u.jsx)("p",{children:"\xa9 2021 Aleksandr Zaytsev"})})},h=n(24),f=n(25),O=n.n(f),p=n(17),m=n(65),C=n(13),x=n(56),v=n.n(x).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),y=function(e){return v.get("weather?q=".concat(e,"&appid=").concat("43d1cdf9188d6ec1a3cbed6392cda93c","&units=metric")).then((function(e){return e.data}))},g={status:"idle",error:""},_="LAO/APP/SET_STATUS",S="LAO/APP/SET_ERROR",w=function(e){return{type:_,status:e}},N=function(e){return{type:S,error:e}},T="ADD-WEATHER-CITY",R="REMOVE-WEATHER-CITY",E="SET-SHOW-CITY",I={cities:localStorage.weatherCity&&JSON.parse(localStorage.weatherCity)||[],standCity:null},P=function(e){return{type:T,cityInfo:e}},A=function(e){return{type:R,id:e}},W=function(e){return{type:E,city:e}},k=function(e){return function(t){t(W(null)),t(N("")),y(e).then((function(e){return t(W(e)),t(w("success")),t(N("")),e})).catch((function(e){t(N(e.message)),t(w("unsuccessful"))}))}},L=n(138),D=n(134),J=n(135),M=n(139),F=n(38),U=n(57),B=Object(F.b)({weatherPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return e.cities.some((function(e){return e.name===t.cityInfo.name}))?e:Object(C.a)(Object(C.a)({},e),{},{cities:[Object(C.a)({},t.cityInfo)].concat(Object(m.a)(e.cities))});case R:return Object(C.a)(Object(C.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.id}))});case E:return Object(C.a)(Object(C.a)({},e),{},{standCity:t.city});default:return e}},appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(C.a)(Object(C.a)({},e),{},{status:t.status});case S:return Object(C.a)(Object(C.a)({},e),{},{error:t.error});default:return e}}}),H=Object(F.c)(B,Object(F.a)(U.a)),Y=p.c,q=function(e){return e.appState.status},G=function(e){return e.appState.error},K=function(e){return e.weatherPage.cities},Q=function(e){return e.weatherPage.standCity},V=Object(M.a)({main:{borderRadius:"0 45px 45px 0"},root:{borderBottomRightRadius:0,borderTopRightRadius:0,"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#3f51b5"}}}),Z=function(){var e=V(),t=Object(p.b)(),n=Y(q),r=Y(G),a=Y(Q),i=Object(c.useState)(""),o=Object(h.a)(i,2),s=o[0],l=o[1],d=Object(c.useState)(""),j=Object(h.a)(d,2),b=j[0],f=j[1],m=Object(c.useState)(!1),C=Object(h.a)(m,2),x=C[0],v=C[1],g=Object(c.useCallback)((function(e){t(w("loading")),e.preventDefault();var n,c=e.currentTarget.city.value;t((n=c,function(e){y(n).then((function(t){e(P(t)),e(W(null)),e(w("success")),e(N(""))})).catch((function(t){e(N(t.message)),e(w("unsuccessful"))}))})),e.currentTarget.city.value=""}),[t]);Object(c.useEffect)((function(){console.log(a),(r||a)&&(v(!1),b!==s&&(v(!0),l(b),t(w("loading")),t(k(b))))}),[a,r,b,s]);var _=a&&a.weather.map((function(e,t){var n="http://openweathermap.org/img/w/"+e.icon+".png";return Object(u.jsx)("div",{className:O.a.description,children:Object(u.jsx)("img",{src:n,alt:"icon weather"})},t)}));return Object(u.jsxs)("div",{className:O.a.searchSection,children:[a&&Object(u.jsxs)("div",{className:O.a.moduleWeather,children:[a.main.temp," \u2103",_]}),Object(u.jsxs)("form",{onSubmit:g,children:[Object(u.jsx)(L.a,{className:e.root,InputProps:{className:e.root},id:"outlined-basic",label:"City",variant:"outlined",name:"city",placeholder:"City",onChange:function(e){f(e.currentTarget.value),x||(v(!0),l(e.currentTarget.value),t(w("loading")),t(k(e.currentTarget.value)))}}),Object(u.jsx)(D.a,{className:e.main,type:"submit",variant:"contained",color:"primary",children:"Check weather"})]}),"loading"===n?Object(u.jsx)("div",{className:O.a.preloader,children:Object(u.jsx)(J.a,{color:"secondary"})}):Object(u.jsx)("div",{className:O.a.error,children:r})]})},z=n(62),X=n.n(z),$=function(){return Object(u.jsx)("div",{className:X.a.footerContainer,children:Object(u.jsx)(b,{})})},ee=n(63),te=n.n(ee),ne=n(64),ce=n.n(ne),re=n(37),ae=n.n(re),ie=n(137),oe=n(136),se=Object(M.a)({main:{color:"#e96e50"}}),ue=r.a.memo((function(e){var t=e.city,n=e.removeSearchCity,r=se(),a=t.name,i=t.sys.country,o=t.main.temp,s=t.main.temp_min,l=t.main.temp_max,d=t.wind.speed,j=Object(c.useCallback)((function(){n(t.id)}),[]),b=t.weather.map((function(e,t){var n="http://openweathermap.org/img/w/"+e.icon+".png";return Object(u.jsxs)("div",{className:ae.a.description,children:[Object(u.jsx)("span",{children:e.description}),Object(u.jsx)("img",{src:n,alt:"icon weather"})]},t)}));return Object(u.jsxs)("div",{className:ae.a.infoCityContainer,children:[Object(u.jsxs)("div",{className:ae.a.firstRow,children:[" ",a,",",i,Object(u.jsx)(oe.a,{className:r.main,style:{padding:"0"},onClick:j,children:Object(u.jsx)(ie.a,{style:{width:"20px",height:"20px"}})})]}),Object(u.jsx)("div",{children:b}),Object(u.jsxs)("div",{children:["Temperature : ",o," \u2103"]}),Object(u.jsxs)("div",{children:["Wind speed: ",d," m/s"]}),Object(u.jsxs)("div",{children:["Temp(min/max): (",s,"/",l,") \u2103"]})]})})),le=function(){var e=Object(p.b)(),t=Y(K),n=Object(c.useState)(localStorage.weatherCity&&JSON.parse(localStorage.weatherCity)||[]),r=Object(h.a)(n,2),a=r[0],i=r[1],o=Object(c.useCallback)((function(t){var n=A(t);e(n)}),[e]);Object(c.useEffect)((function(){localStorage.setItem("weatherCity",JSON.stringify(t)),i(t)}),[t]);var s=a&&a.map((function(e,t){return Object(u.jsx)(ue,{removeSearchCity:o,city:e},t+e.name)}));return Object(u.jsx)("div",{className:ce.a.resultSection,children:s})},de=function(){return Object(u.jsxs)("div",{className:te.a.bodyContainer,children:[Object(u.jsx)(Z,{}),Object(u.jsx)(le,{})]})},je=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{}),Object(u.jsx)(de,{}),Object(u.jsx)($,{})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(p.a,{store:H,children:Object(u.jsx)(je,{})}),document.getElementById("root")),be()},25:function(e,t,n){e.exports={searchSection:"searchSection_searchSection__1QlWR",preloader:"searchSection_preloader__vLCvM",error:"searchSection_error__2Cibv",moduleWeather:"searchSection_moduleWeather__3uUmq"}},37:function(e,t,n){e.exports={infoCityContainer:"infoCity_infoCityContainer__3swed",description:"infoCity_description__15bCC",firstRow:"infoCity_firstRow__2Mj6c"}},54:function(e,t,n){e.exports={headerContainer:"header_headerContainer__2UD2d"}},55:function(e,t,n){e.exports={authorSectionContainer:"autorSectionContainer_authorSectionContainer__34_-i"}},62:function(e,t,n){e.exports={footerContainer:"footerContainer_footerContainer__2Px87"}},63:function(e,t,n){e.exports={bodyContainer:"bodyContainer_bodyContainer__1dRKC"}},64:function(e,t,n){e.exports={resultSection:"resultSection_resultSection__mGNoO"}},78:function(e,t,n){},79:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.03fec313.chunk.js.map